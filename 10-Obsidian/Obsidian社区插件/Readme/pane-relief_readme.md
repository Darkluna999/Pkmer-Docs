---
uid: 2023080322242710
title: Obsidian 插件：【Readme】Pane Relief
tags: ['界面相关', '导航工具', '效率', 'obsidian插件', 'readme']
description: 每个标签页都增加历史记录，向你的浏览器一样。
author: AI
type: readme
draft: false
editable: false
modified: 20230101000000
---

# Obsidian 插件：Pane Relief

> [!Note] 插件名片
> - 插件名称：Pane Relief
> - 插件作者：PJ Eby
> - 插件说明：每个标签页都增加历史记录，向你的浏览器一样。
> - 插件分类：[' 界面相关 ', ' 导航工具 ', ' 效率 ', 'obsidian 插件 ', 'readme']
> - 项目地址：[点我访问](https://github.com/pjeby/pane-relief)
> - 国内下载地址：[下载安装](https://pkmer.cn/products/plugin/pluginMarket/?pane-relief)

## 概述

每个标签页都增加历史记录，向你的浏览器一样。

![Pane Relief](https://cdn.pkmer.cn/covers/pane-relief.png!pkmer)

> [!tip] 原文出处
>
>下面自述文件的来源于 [Readme](https://ghproxy.net/https://raw.githubusercontent.com/pjeby/pane-relief/master/README.md)
>

---

## Readme(翻译）

下面是 [[pane-relief]] 插件的自述翻译

## Pane Relief：为 Obsidian 提供的每个标签历史记录和窗格管理

> 注意：本文档使用 Obsidian 0.16 的新术语“标签”和“窗格”来替代“窗格”和“分割”。如果您还没有使用 Obsidian 0.16，请使用 [旧版文档](https://github.com/pjeby/pane-relief/blob/0.3.3/README.md)。

该插件通过提供以下功能来帮助减轻在 [Obsidian.md](https://obsidian.md) 中管理大量窗格和标签的“窗格”（尤其是在使用键盘时）：

- 类似浏览器的每个标签的导航历史记录（包括前进/后退列表）
- 在标签之间或窗口之间移动、移动标签、跳转到第 N 个标签等命令
- 智能的 [最大化活动标签命令](#maximize-active-tab)
- 可选的 [每个窗格导航按钮](#per-pane-navigation-buttons) 和 [编号](#tab-numbering)
- Obsidian 0.15.6+ 的 [焦点锁定](#focus-lock)，防止侧边栏窗格窃取焦点
- 浏览器风格的“关闭”命令，激活相邻的标签而不是最近使用的标签
- [简单滑动窗格模式](#simple-sliding-panes-mode)，可以在每个窗口中切换，并与 Obsidian 0.16.2 及其新的堆叠标签兼容（0.3.1 中新增）

这些功能的总体目标是为那些喜欢使用大量标签、窗格、窗口和/或悬停编辑器的用户提供更类似浏览器的 Obsidian 体验。

（注意：该插件添加了许多预配置的热键。您可能希望先安装 [热键助手](https://obsidian.md/plugins?id=hotkey-helper) 插件，以便轻松查看和解决任何冲突，更新键以更好地适应您的偏好，并为没有默认热键的命令分配热键。）

### 每个标签页的导航历史记录

（注意：Obsidian 0.16.3 实现了自己的每个标签页的导航历史记录，而 Pane Relief 则增强了它以匹配下面描述的功能集。旧版 Obsidian 只有一个全局历史记录，而 Pane Relief 用自己的实现替换了该历史记录，提供了这些功能。当 Pane Relief 不再支持旧版 Obsidian 时，本文档部分将相应进行修订。）

通常，Obsidian 为后退/前进导航命令保留了一个单一的全局历史记录。该历史记录不仅包括您在每个标签页内部的导航方式，还包括您在标签页之间的导航方式。（这有时会产生令人费解的结果，特别是如果您固定了任何标签页，导致在您“后退”或“前进”时产生*新的*附加窗格！）

Pane Relief 通过为每个标签页提供自己独特的后退/前进历史记录来解决这些问题，就像浏览器中的标签页一样。后退或前进只影响该标签页，不影响其他标签页。如果标签页被固定，将显示一个通知告诉您如果要后退或前进，需要取消固定，而不是打开一个新的标签页。（如果您尝试在标签页的现有历史记录之外进一步“后退”或“前进”，也会显示消息。）

此外，Pane Relief 捕获第四和第五个鼠标按钮（“后退”和“前进”），并将导航应用于鼠标在点击这些按钮时指向的标签页（如果有的话）。

此外，Pane Relief 增强了标题栏中的 Obsidian 前进/后退按钮，给它们添加了计数，以显示您在当前窗格中可以“后退”或“前进”的距离。而且，就像在普通浏览器中一样，您可以右键单击这些箭头，显示一个页面列表，您可以直接点击这些页面进行导航，而不会丢失您的历史位置。

列表中显示的页面可以进行以下操作：

- 通过按住 Ctrl 或 Cmd 进行快速预览（悬停时），
- 从菜单中拖动并放置到其他位置以创建链接或移动文件
- 单击以导航到历史记录中的该位置（不会丢失您的位置），
- Ctrl/Cmd 单击以在导航的该点上打开一个具有重复历史记录的新标签页（类似于在 Chrome 或 Firefox 中执行相同操作）
    - 在 Obsidian 0.16.3+ 上，您还可以使用标准的 Obsidian 修饰键将新标签页打开到新窗格或新窗口中）
- 右键单击以打开文件上下文菜单，直接对文件执行操作

最后，但绝非最不重要的，Pane Relief 不仅在 Obsidian 重新启动时保存每个标签页的历史记录，而且还将历史记录与工作区布局一起保存和加载，因此如果您使用 Obsidian 工作区插件，在不同工作区之间切换时，您的导航历史记录不会混淆。（它甚至可以与 Obsidian 0.15.3+ 的多个桌面窗口功能一起使用。）

### 选项卡访问和移动命令

与浏览器选项卡类似，Pane Relief 提供了一些键盘命令，用于跳转到特定的选项卡并重新排列它们。Ctrl/Cmd+PageUp 和 PageDown 在面板之间循环，同时添加 Shift 会交换选项卡本身（如 Firefox 中）。Alt+1 到 Alt+8 跳转到工作区中的相应编号面板，Alt+9 跳转到最后一个面板。添加 Ctrl/Cmd 将面板移动到指定位置。

通过这些命令，您再也不需要极高的灵活性来重新定位选项卡，当堆叠或滑动它们时：您只需按顺序将它们向上或向下移动，或将它们分配到特定位置。而且通过编号位置，您可以轻松地为特定的常开文档保留某些选项卡，然后使用相关的热键直接跳转到它们。

要查看完整的命令列表并查看或更改其键盘分配，请访问 Obsidian 设置的热键部分，然后在搜索框中键入“pane relief”。

> 0.1.2 版本新增功能：现在 Obsidian 0.15.3+ 中有用于在弹出窗口之间导航的命令，您还可以配置热键以跳转到第 N 个窗口。但是，默认情况下这些命令没有分配热键：您必须手动定义自己的热键。

从 0.1.6 版本开始，Pane Relief 还包括一个与 Hover Editor 插件和 Obsidian 0.15.3+ 的弹出窗口兼容的“最大化活动选项卡”命令。如果您之前使用的是“最大化活动窗格”插件，您可能希望禁用该插件并将热键分配给 Pane Relief 的版本。

从 0.3.0 版本开始，Pane Relief 包括一个“切换滑动窗格”命令，允许您使每个窗口的工作区水平滚动，而不是在它们之间分割有限宽度的窗格。这类似于“经典”滑动窗格插件，但不包括现在由 Obsidian 0.16.2 原生提供的堆叠和标题旋转功能。滑动可以在每个窗口上切换开启或关闭，并且状态在 Obsidian 重新启动和工作区保存/加载时保存。

默认情况下，窗格的宽度为 700 像素，但如果您使用 Style Settings 插件，可以将宽度配置为任何 CSS 值。如果您使用 Obsidian 0.16.2 的“堆叠标签”，则选项卡标题的宽度将添加到此值中，以便在添加更多选项卡时，每个窗格中的可用空间不会缩小。（即使您不创建多个窗格或选项卡组，这也可能很有用！）但请注意，此功能应被视为测试版，如果给定的堆叠选项卡集不适合应用程序窗口，滚动可能会不稳定或需要手动调整。

请注意，如果您从独立的滑动窗格插件迁移，您必须在尝试使用 Pane Relief 的滑动窗格（或 Obsidian 的堆叠选项卡）之前*禁用*它（不仅仅是关闭滑动窗格！）**并**重新启动 Obsidian。这是因为滑动窗格插件在禁用时没有正确卸载所有钩子，如果保持活动状态，它将干扰 Pane Relief 的滑动窗格。

### 焦点锁定

从版本 0.2.1 开始，Pane Relief 允许您使用其焦点锁定功能阻止侧边栏选项卡接收焦点（从而防止窃取按键或在错误的窗格中打开链接）。如果您使用的是 Obsidian 0.15.6 或更高版本，则状态栏中会出现一个可点击的锁定符号，并且还提供了一个键盘命令来切换该功能的开启和关闭（以防您想在侧边栏中编辑笔记，使用文件资源管理器的键盘导航等）。

切换的当前状态将与您的工作区一起保存，因此它会在 Obsidian 重新启动时保持不变，并且如果您使用的是 Workspaces 或 Workspaces Plus，每个工作区都可以具有不同的状态。（焦点锁定在新的工作区中默认为“关闭”，因此如果您希望在当前的工作区中开启它，您需要在每个工作区中首次开启它。）

## 安装

要安装该插件，请在 Obsidian 的社区插件浏览器中打开 [Pane Relief](https://obsidian.md/plugins?id=pane-relief)，然后选择“安装”和“启用”。

一旦启用，Pane Relief 将接管管理历史记录，但不会使用或擦除 Obsidian 的内置历史记录。如果禁用 Pane Relief，将重新启用内置历史记录，但如果在退出或加载新的工作区之前不重新启用插件，则可能会丢失 Pane Relief 自己的历史记录。（这是因为 Pane Relief 必须启用才能在保存或加载工作区时保存或加载历史记录。）

如果您在使用插件时遇到任何问题，请将错误报告提交到此存储库，而不是使用 Obsidian 论坛：我不会每天（甚至每周）检查论坛，但我会收到 Github 的电子邮件通知，并且会比看到论坛评论更快地回复您。

样式和集成

### 样式设置

两个常见的样式功能请求是：1）在标题栏中禁用历史计数，和 2）为窗格添加编号。现在，通过 [样式设置插件](https://obsidian.md/plugins?id=obsidian-style-settings) 可以实现这些选项 - 只需安装它并转到其设置：将会有一个用于 " 禁用历史计数 " 和 " 编号窗格 " 的开关。

### 集中式标签列表

与 Pane Relief 一起使用的另外两个插件是 [Quick Switcher++](https://obsidian.md/plugins?id=darlal-switcher-plus) 和 [Koncham Workspace](https://obsidian.md/plugins?id=koncham-workspace)。Quick Switcher++ 允许您分配一个热键，弹出一个打开的笔记列表，并直接跳转到相应的标签（即使跨多个窗口或悬停编辑器），而 Koncham Workspace 则允许您在侧边栏中列出主窗口中心区域面板和悬停编辑器的内容（您可以点击跳转到相应的标签）。

### 每个窗格的导航按钮

如果您希望每个窗格都有自己的带有所有 Pane Relief 功能的返回/前进按钮，您可以安装 [自定义页面标题栏按钮](https://obsidian.md/plugins?id=customizable-page-header-buttons) 插件，启用它，然后按照以下步骤进行配置：

1. 打开“在桌面上显示按钮”
2. 打开“Pane Relief 计数”（可选）
3. 添加“导航返回”和“导航前进”按钮

然后，每个选项卡标题栏将具有带有计数、标题和右键菜单的返回和前进按钮，其中包含可拖动和可右键单击的历史记录条目。（在 Obsidian 0.16 及更高版本中，您需要在“设置”>“外观”>“高级”中启用“显示选项卡标题栏”才能看到此选项。）

### 最大化选项卡的样式

Pane Relief 与 Maximize Active Pane 插件使用略有不同的 CSS 类；如果您想在最大化的工作区上显示边框，相关的类如下：

- `.should-maximize` 出现在包含最大化窗格的最外层工作区分割上
- `.has-maximized` 出现在每个包含最大化窗格的工作区分割上（递归地）
- `.is-maximized` 出现在最大化的工作区叶子上

注意：这些类不适用于只有一个窗格的悬停编辑器，但如果您将悬停编辑器分割成多个窗格并最大化其中一个，它们将适用于该悬停编辑器内部。

### 标签编号

如果您安装了 Style Settings 插件，可以在其选项页面中打开 Pane Relief 标签编号。如果打开了该选项，它将显示标签标题栏。

但是对于希望显示窗格快捷方式位置编号的自定义主题和 CSS 片段，Pane Relief 会向前 8 个（和最后一个）工作区叶子添加一个类（`.has-pane-relief-label`）和一个变量（`--pane-relief-label`）。该变量提供一个数字，可以与 `counter-reset` 和 `content` 一起使用适当的 CSS 来标记标签。以下是一个简短的 CSS 片段，将数字放在标签标题头中（您必须启用此功能才能使其工作）：

```css
/* 在标签标题中编号窗格 */
.workspace-split.mod-root .workspace-leaf .view-header-icon::before {
    content: "";
    display: inline-flex;
    position: relative;
    bottom: 0px;
    min-inline-size: 1em;
}

.workspace-split.mod-root .workspace-leaf.has-pane-relief-label .view-header-icon::before {
    counter-reset: pane-number var(--pane-relief-label);
    content: counter(pane-number);
}
```

###已知问题/当前限制

#### 链接面板

历史管理对于链接面板没有任何特殊处理，因此可能会产生令人费解的结果。例如，在一个面板中点击“后退”可能会导致链接面板将该移动视为“前进”，即将后退的目标作为新的历史记录条目添加。这可能比 Obsidian 内置的历史记录更好，但我乐意听取反馈或提出更好的处理方式的建议。（尤其是从技术角度来说，它们是否可以实际实现。）

#### 重命名和删除

如果您重命名或删除了一个在面板历史记录中的笔记，那么在向前或向后到达该点时可能找不到该文件，并且会显示“未打开文件”的消息。
