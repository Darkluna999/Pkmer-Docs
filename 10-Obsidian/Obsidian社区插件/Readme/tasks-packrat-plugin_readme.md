---
uid: 2023080322242241
title: Obsidian 插件：【Readme】Packrat
tags: ['obsidian插件', 'readme']
description: 使用任务插件创建和完成的重复任务的已完成实例进行管理。
author: AI
type: readme
draft: false
editable: false
modified: 20230101000000
---

# Obsidian 插件：Packrat

> [!Note] 插件名片
> - 插件名称：Packrat
> - 插件作者：Thomas Herden
> - 插件说明：使用任务插件创建和完成的重复任务的已完成实例进行管理。
> - 插件分类：['obsidian 插件 ', 'readme']
> - 项目地址：[点我访问](https://github.com/therden/packrat)
> - 国内下载地址：[下载安装](https://pkmer.cn/products/plugin/pluginMarket/?tasks-packrat-plugin)

## 概述

使用任务插件创建和完成的重复任务的已完成实例进行管理。

![Packrat](https://cdn.pkmer.cn/covers/tasks-packrat-plugin.gif!pkmer)

> [!tip] 原文出处
>
>下面自述文件的来源于 [Readme](https://ghproxy.net/https://raw.githubusercontent.com/therden/packrat/master/README.md)
>

---

## Readme(翻译）

下面是 [[tasks-packrat-plugin]] 插件的自述翻译

# **Packrat** 🐀

![](./packrat.gif)

这个插件是为了 [Obsidian.md](https://obsidian.md/) 而开发的，它为 Martin Schenck 的不可或缺的 [Obsidian Tasks](https://github.com/schemar/obsidian-tasks) 插件增加了功能。

| :exclamation: 只有在使用 **Tasks** 时才安装 **Packrat**！ |
|--------------------------------------------------------------------|

**Tasks** 支持具有重复规则的任务：当使用 **Tasks** 标记一个重复任务已完成时，它会在刚完成的任务上方的新行中插入下一个任务的实例。

那有什么问题吗？

你打算对此做些什么？

经过一些思考，我意识到我的已完成的重复任务可以分为三类：

1. 那些我不想保留的 - 可以删除
2. 那些我想保留在原始笔记文件中，但是移到末尾/底部
3. 那些我想移到单独的归档笔记文件中

通过在你的重复任务中包含一个“触发器”，来确定你想要对已完成的实例应用上述哪种操作，我们可以自动化这些操作。

## 默认的“触发器”

每个**Packrat**操作的*默认*“触发器”采用了一个*HTML 注释*的形式（由两对% 字符包围的文本）：

| 默认触发器 | 完成重复任务实例后的操作 |
|-----------------|------------------------------------------------ |
| `%%done_end%%`    | 将任务移动到活动笔记文件的底部 |
| `%%done_log%%`    | 将任务追加到指定的归档文件 |
| `%%done_del%%`    | 删除任务 |

我选择使用*注释*，因为它们在**Obsidian**的*预览模式*中不会显示（尽管它们在*实时预览*中会显示），而且我更喜欢保持*标签*列表的整洁。

然而，您可以在**Packrat**的设置中更改触发器的值 - 可以是一个#标签，或者一个@值，或者**Obsidian**支持的任何其他字符串（包括 Unicode 字符）。

使用**Packrat**

**Packrat**为 Obsidian 添加了一个单一的命令。

假设你已经打开了一个 markdown 文件作为你的活动笔记，调用*命令面板*并选择 "Packrat: 处理活动笔记中已完成的重复任务 "。

当发出该命令时，**Packrat**将扫描文件中已完成的重复任务实例，并根据其中包含的触发值对每个任务进行操作。

默认情况下，**Packrat**将要归档的已完成的重复任务追加到名为 `archive.md` 的文件中，该文件位于存储库的根目录中。如果该文件不存在，它将创建该文件。

这个“归档文件”的位置和名称都可以在**Packrat**的设置中更改；唯一的要求是文件路径必须存在，文件名必须有一个“.md”扩展名。

我不确定我理解这个应该如何工作；你能给个例子吗？

当然！

Packrat 插件仅在当前活动笔记中的**已完成**的待办事项上起作用，当这些待办事项同时满足以下条件时：

- [Obsidian Tasks](https://github.com/obsidian-tasks-group/obsidian-tasks) 风格的**重复规则**，
- 并且满足插件*设置*中定义的一个或多个**触发器**。

举个例子，假设以下内容代表一个笔记文件的全部内容。

```

# 示例清单
- [ ] 未完成的*非*重复任务，带有删除触发器 %%done_del%%
- [x] 完成的*非*重复任务，带有删除触发器 %%done_del%% ✅ 2022-06-17
- [-] 取消的*非重复*任务
- [-] 取消的重复任务实例，带有归档触发器 %%done_log%% 🔁 每天 📅 2022-06-10
- [ ] 未完成的重复任务，没有触发器 🔁 每2天完成一次 📅 2022-06-20
- [x] 完成的重复任务，没有触发器 🔁 每2天完成一次 📅 2022-06-18 ✅ 2022-06-18
- [ ] *未完成*的重复任务，带有底部触发器 %%done_end%% 🔁 每3天完成一次 📅 2022-06-20
- [x] 完成的重复任务，带有底部触发器 %%done_end%% 🔁 每3天完成一次 📅 2022-06-17 ✅ 2022-06-17
- [x] 完成的重复任务，带有底部触发器 %%done_end%% 🔁 每3天完成一次 📅 2022-06-13 ✅ 2022-06-14
- [ ] *未完成*的重复任务，带有归档触发器 %%done_log%% 🔁 每10天 📅 2022-06-28
- [x] 完成的重复任务，带有归档触发器 %%done_log%% 🔁 每10天 📅 2022-06-18 ✅ 2022-06-18
- [ ] *未完成*的重复任务，带有删除触发器 %%done_del%%  🔁 每周三 📅 2022-06-22
- [x] 完成的重复任务，带有删除触发器 %%done_del%% 🔁 每周三 📅 2022-06-15 ✅ 2022-06-15
```

如果在活动笔记中运行了 `Packrat: 处理已完成的重复任务` 命令，Packrat 将只对最后四个已完成的清单项进行处理。然后，笔记文件将如下所示：

# 示例清单

- [ ] 未完成的*非*重复任务，带有删除触发器 %%done_del%%
- [x] 已完成的*非*重复任务，带有删除触发器 %%done_del%% ✅ 2022-06-17
- [-] 取消的*非重复*任务
- [-] 取消的重复任务实例，带有归档触发器 %%done_log%% 🔁 每天 📅 2022-06-10
- [ ] 未完成的重复任务，没有触发器 🔁 每 2 天完成时 📅 2022-06-20
- [x] 已完成的重复任务，没有触发器 🔁 每 2 天完成时 📅 2022-06-18 ✅ 2022-06-18
- [ ] *未完成*的重复任务，带有底部触发器 %%done_end%% 🔁 每 3 天完成时 📅 2022-06-20
- [ ] *未完成*的重复任务，带有归档触发器 %%done_log%% 🔁 每 10 天 📅 2022-06-28
- [ ] *未完成*的重复任务，带有删除触发器 %%done_del%% 🔁 每周三 📅 2022-06-22
- [x] 已完成的重复任务，带有底部触发器 %%done_end%% 🔁 每 3 天完成时 📅 2022-06-17 ✅ 2022-06-17
- [x] 已完成的重复任务，带有底部触发器 %%done_end%% 🔁 每 3 天完成时 📅 2022-06-13 ✅ 2022-06-14

```
并且下一行将被移动到指定的归档文件底部
```

- [x] 已完成的重复任务，带有归档触发器 %%done_log%% 🔁 每 10 天 📅 2022-06-18 ✅ 2022-06-18

```

## 安装

**Packrat** 现在可以通过 **Obsidian** 的 *设置* 选项卡中的 *社区插件* 选项进行安装。



