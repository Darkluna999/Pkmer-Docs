---
uid: 20230609145418
title: Zotero Connector
tags: [zotero, 教程]
description: 
author: darkluna999
type: other
draft: false
editable: false
modified: 20231001224249
---

# Zotero Connector

> 安装见 [[0_1Zotero组件安装#Zotero Connector]]

## 使用步骤

### 配置

1. [[0_1Zotero组件安装#Zotero Connector]]
在安装之后我们浏览器中通常会出现一个图标
![[Pasted image 20230724015657.png]] 或者 ![[Pasted image 20230724015648.png]] 这样...![[Pasted image 20230724015822.png]] 这样...![[Pasted image 20230724015827.png]] 这样...![[Pasted image 20230724015844.png]] 这样...![[Pasted image 20230724015850.png]] 这样...当然还有很多其他样子，这里就不列举了，以上这些，通通都是它！
2. 右键 - 扩展选项
![[Pasted image 20230724021645.png]]
3. 认证 Zotero 账号（如不需要云端保存条目则可以不认证）
![[Pasted image 20230724021806.png]]
4. 更新翻译器 ![[Pasted image 20230724022028.png]]

### 抓取

1. 启动 zotero 客户端，当然如果不启动的话，也是可以抓取到 Zotero 的官方云端的
2. 我们只需要点击它...即可使用
- 如果只是单一页面的话会出现这一条，这里的 saving to 默认是当前 Zotero 客户端中打开的分类 (collection)，因此建议单独开一个新导入的分类
![[Pasted image 20230724020231.png]]
- 页面内有多条可抓取的话就会变成这样
![[Pasted image 20230724020434.png]] 或 ![[Pasted image 20230724020548.png]] 点击之后会弹出如下框
![[Pasted image 20230724020609.png]]
勾选你需要的导入的条目，然后点击 ok 即可出现如上单条状态下的的导入框

### 达到什么程度算是抓取基本成功了？

Zotero 在网页上能抓取两类东西： **文献信息（文献条目的元数据）** ， **PDF 附件** 。

- 一般来说，只要你在网页上或 Zotero 里 **能够正确地识别出文献类型** （条目图标是正常的文献类型图标，而不是“其他”类型），就已经意味着你的文献信息/元数据 **抓取是成功的** 了。
![[Pasted image 20231001223449.png]]
- 至于 PDF 附件能否成功抓取，这个事情比较玄学，可能会因为各种各样的限制无法自动抓到附件。 **如果条目抓取正常，只是抓不到附件，通常是无解的。**

正因如此， **只要你能够正确抓取到文献信息，就不建议继续折腾下去了。PDF 附件能正常抓到就抓，抓不到就手动添加。** 继续折腾下去很可能是浪费了大把的时间，且很难有任何的积极效果。

## 关于翻译器

[[Bilibili] 如何在浏览器中更新转换器/翻译器/translator](https://www.bilibili.com/video/BV1F54y1k73n/)

## 一些报错处理与 TIPS

如果你不能正确地抓取文献信息，或者抓取后的条目里文献信息缺失，那下面这一篇文档对你很重要，请 **务必仔细阅读每一点提醒** 。这些提醒会对你帮助很大。

### 为什么会出现网页抓取条目/附件失败的问题

条目信息抓取出现问题 **通常是因为你电脑中相应网站的 translator 太久没更新了** ，而网站页面出现了变更，Zotero Connector 读不懂网站了。只要更新下 translator 就可以解决。

当然，也有一些其他的【常见问题及注意事项】需要你多多关注。这些关键问题都可能会导致你无法正常抓取。

而附件抓取失败还会有很多复杂的因素，通常是无法解决的。

### 如何解决网页抓取失败的问题

> 以下的操作需要用到 茉莉花（Jasminum）插件。如果你还没有安装，请先参照下面这个教程安装茉莉花插件：
> 茉莉花插件可以在这里下载到：
> [**-> [Github] 茉莉花 Jasminum 插件官方主页下载页面**](https://github.com/l0o0/jasminum/releases)

1. 在 Zotero 首选项中，进入 [高级/Advanced] 设置。
2. **更新官方的 translator：** 点击下方“自动检查更新的转换器和样式” 后面的 [立即更新/Update now] 按钮（这里的 translator 可能会被翻译成 [转换器/翻译器/翻译人员]。如果你遇到了这几个描述，他们说的是同一个东西）。
![[Pasted image 20231001223531.png]]
3. **更新第三方维护的中文网站 translator：** 进入茉莉花插件的设置，打开 [Unofficial Translator Repository] 选项卡，先点击 [刷新/Refresh] 按钮，然后点击 [Update All] 按钮。
![[Pasted image 20231001223550.png]]
4. 重复 [[#配置]] 中的 2、3、4 步骤，这很重要
注：translator 的更新可能会十分频繁。如果这次更新 translator 未能解决你的问题，你也可以过一阵再重做以上所有步骤，再次检查是否有更新。

### 有哪些页面可用来抓取

不是所有页面都可以用 Zotero Connector 进行抓取。即便是在同一个网站，也有部分页面是无法抓取的。这里作如下提醒：

1. **尽量不要在搜索结果页（批量）抓取，尤其是在谷歌学术和知网的时候更要避免。** 批量抓取时 Zotero 会以极快的速度连续访问该网站，很可能触发该网站的风险控制，给未来带来无尽的麻烦。轻则弹一个验证码验证一下你是否是机器人，重了的话也可能会直接封禁你的 IP（对于学校买了数据库正版版权的那些网站，被封了 IP 可能会被学校请去喝一杯茶）。此外，知网在搜索结果页抓取的时候基本上是完全无法自动下载附件的，所以也不建议这么干。
2. **不要在在线阅读界面或者下载了 PDF 后的阅读界面抓取。** 这些页面都是无法识别，无法抓取的。你应该 **在论文详情页面抓取项目** ，也就是在搜索结果中点击 **论文标题** 进去的那个页面。
3. **不要在 Sci-hub 中抓取文献信息。** Sci-hub 中的文献信息很可能不全，而且大概率会抓取失败。Sci-hub 只适合用来下载文件附件，其他任何事情都不适合。建议你复制页面上的 doi 号，然后打开下面这一网址，在右侧粘贴 doi 号并解析，即可访问文献官方详情页：
    [**-> [DOI 官网] 解析 doi 号**](https://www.doi.org)
    你也可以使用 DOI 号借助 Zotero 中的这一功能快速创建条目并获取文献信息：
![[Pasted image 20231001223606.png]]
4. 如果通过这一方法得到的条目信息不全，你可以手动补充，或者还是回前面提到的文献详情页抓。
5. 镜像站与学校的代理访问，需要配置茉莉花插件，其近期更新支持了自定义代理抓取功能

### 抓取附件及信息处理

1. 如果你还想进一步抓取硕博论文的 PDF 附件，你还可以试试 **知网国际站** ：
    [**-> 可下载硕博论文 PDF 附件的知网国际站**](https://chn.oversea.cnki.net/)
    （如果你在校外，可以先在前面提到的 **知网官方的校外访问** 登录进去，然后再来这里下载/抓取）
2. 如果你想在抓知网内容的时候 **合并中文作者的姓名** ，又或者希望 **指定在知网抓取时优先获取 CAJ 格式的附件还是 PDF 格式的附件** ，可以看这个仓库的说明：
    [**-> [Gitee] Zotero translators 中文维护小组**](https://gitee.com/l0o0/translators_CN)
    重点关注后面的 [ **如何在 Zotero Connector 中添加中文姓名处理以及保留知网 CAJ 格式文件的设置** ] 部分。
3. 如果你已经抓取了一些中文文献，文献库里现存姓名分开的条目，可以多选需要合并姓名的条目，借助 [茉莉花/Jasminum] 插件中的功能进行（批量）合并：
![[Pasted image 20231001223621.png]]
但说实话，合并姓名会在 CSL 引用的时候留下额外的坑，此处暂且不表

### 一些和特定站点相关的提醒

1. **强烈不建议在知网搜索结果页面批量抓取文献** ，在这里抓也很可能不能顺带着自动下载附件。其他网站也不建议批量抓取，过高频率的访问（批量抓取的时候访问频率很高）可能会导致你被该网站封禁。
2. 基于与上一点同样的原因， **不建议在谷歌学术的检索结果页面批量抓取文献** 。过多的批量抓取可能导致你的 IP 被封。
3. 知网如果抓取附件失败有很多种可能的原因。请先 **确保网站上直接下载附件时不会要求你输入验证码** ，然后再尝试能否成功抓取附件。如果不要求输入验证码了还不能抓，建议按照前面说的更新 translator。如果还不能，建议放弃。
4. **万方** 最近似乎在抽风，可能也是网页有调整 translator 不好使了。万方的 translator 最近已经有更新了，你也可以更新之后再尝试。更新后目前已知万方的搜索结果页上的抓取还是会失败的，但是文献信息详情页的抓取应该已经基本正常了。
5. **Pubmed** 遇到问题的人也很多，如果你也遇到问题了多担待着点。
6. **豆瓣** 上抓取的信息目前会混入很多乱七八糟的代码，这恐怕是 translator 的问题。除非 translator 的作者更新新版本解决这一问题，或者你自己会开发 translator 帮忙解决这一问题，否则靠自己解决不了。对于图书类的信息抓取，可以改用：
    [**-> 国家图书馆文津搜索**](http://find.nlc.cn)
7. **维普** 好像是彻底不行了，换别的网站看看。

除了上述问题之外，文献抓取和附件自动下载还有很多难以解决的玄学问题，你还可以 **重启电脑** 、换个浏览器再试试。如果以上所有方法（包括这条在内）都不好使，那恐怕只能建议你 **换个网站** 抓了（比如回到 **期刊官方主页上的论文详情页** ），或者采用下面最后一招：由引用信息导入。

### 【曲线解围：通过直接导入 PDF 附件来自动生成条目】

> 虽然这里给出了这个方法，但 **仍然建议你优先选择从网页上抓取附件。** 期刊官网上论文详情页上的信息通常最全且最新，从论文详情页抓取条目信息最可靠。

**这一方法适用于批量添加文献的需求，也适用于使用校外访问/镜像站的朋友。**

#### 如果你想要添加的是英文文献

很多英文文献的 PDF 附件中带有论文的元数据，而 Zotero 也支持通过 PDF 附件中的元数据自动抓取文献信息并自动创建副条目。具体操作如下

1. 从网页上下载好文献的 PDF 附件；
2. 将 PDF 附件 **直接拖入 Zotero 文献列表中的空白区域** 
![[Pasted image 20231001223642.png]]
注：如果页面上没有空白区域了，可以 **将附件拖到任意两个条目中间的间隙处** ，此时相邻条目间隙处会出现一个横线，如上图所示。请不要将附件直接拖到条目上，因为拖到条目上是另一个功能：将这一文件作为附件添加到该条目中。
3. 此时，界面右上角同步按钮旁会多显示一个图标，这意味着 Zotero 正在检索并匹配这一条目信息。
![[Pasted image 20231001223659.png]]
4. 匹配完成后，Zotero 会自动使用元数据创建父条目，并将这一 PDF 文件作为附件添加到新生成的条目中。
![[Pasted image 20231001223710.png]]

#### 如果你想要添加的是中文文献

中文论文的 PDF/CAJ 附件中通常并没有完善的论文的元数据，Zotero 本身也并不支持为中文文献抓取元数据。

对于中文文献， [**茉莉花（Jasminum）插件**] 可以 **通过文件名** 自动检索元数据并创建条目。 **添加附件的方式与英文文献相同** ，文献添加后茉莉花会自动检索文献、创建条目并将附件移动到条目中。

如果你 **之前添加的中文附件未能自动创建父条目** ，你也可以使用这一功能来重新 **手动触发一次检索匹配** ：

1. 右键点击 **不附属于任何条目的 PDF/CAJ 附件** ；
2. 点击 [知网助手/CNKI]，然后点击 [抓取知网元数据……]。
![[Pasted image 20231001223722.png]]
注意： **这一功能仅对不属于任何条目的附件文件有效** 。如果这一附件已经有了条目了，也就不能重新触发抓取了。右键菜单里只会有 [更新知网引用数] 的功能。
![[Pasted image 20231001223733.png]]

此外，由于这一功能元数据是根据文件名检索得到的， **这一功能对文件名的要求较高** ，基本上要求：

- 文件名的格式完全符合茉莉花插件设置中的格式；
- 标题/姓名内容中不含（以下划线为代表的）特殊标点符号（可以尝试将这些符号替换为空格再尝试检索匹配）；
- 文件名没有被添加额外的内容（如重复文件自动添加的编号或 xx 看图王一类的无关信息）。

**文件名的命名格式** （用于匹配导入附件的文件名中的文献信息）可以在 Zotero 首选项中茉莉花插件的设置中修改。这里 **默认的设置内容和知网上直接下载下来的文件名是一致的。**

![[Pasted image 20231001223845.png]]

**如果文献名称比较特别，或文件名里有标点，或者文件名被编辑过，都很有可能会匹配失败并报错。** 如下图所示

![[Pasted image 20231001224051.png]]

#### 如果失败了……

不管是中文文献还是英文文献，都 **存在一定的概率无法成功匹配到信息并自动创建条目** 。如果遇到问题了，还是 **建议回到期刊官网的论文详情页抓取信息并创建条目** ，然后将 PDF 文件以附件的形式添加到该条目上（将附件拖到该条目上即可，但不要拖到条目之间的间隙里）。如果 Zotero 确实不支持抓取你正在使用的网站，你也可以使用下面的最后一招。

由于各种各样奇怪的问题、奇怪的限制，可能你确实没有办法从某个网站抓取条目，但你也确实找不到其他替代的检索网站。如果你遇到了这种头疼事，可以试试从网站上导出通用格式的引用信息，然后再在 Zotero 直接导入这一引文信息，最后再手动将附件附在导入的条目上。这里有 Zotero 支持导入的格式列表：

[**-> [Zotero 官网] How do I import BibTeX or other standardized formats?**](https://www.zotero.org/support/kb/importing_standardized_formats)

这里以一篇万方上的学位论文为例简要介绍一下这一方法：

1. 打开论文的详情页，点击 [引用] 按钮；
2. 选择一个 Zotero 支持的通用格式；
![[Pasted image 20231001224112.png]]
3. 下载包含引用信息的文件/复制包含引用信息的文本（具体操作因网站不同而略有区别）；
4. 在 Zotero 文献列表页面点击 [文件/File] -> [导入/Import] 或 [从剪贴板导入/Import from Clipboard] （根据你的实际情况选择使用哪个功能）；
![[Pasted image 20231001224128.png]]
5. 根据界面提示完成导入
![[Pasted image 20231001224142.png]]
![[Pasted image 20231001224157.png]]
![[Pasted image 20231001224224.png]]
导入完成后，该条目会混入文库中。你可以在左边栏分类列表最下面的 [未分类条目/Unfiled Item] 中按照年份排序来方便地找到刚刚导入的条目，将其拖入你需要的分类中：
![[Pasted image 20231001224235.png]]
- 这样导入基本意味着无法自动抓取附件（毕竟，对于好抓取附件的网站，也不会这么难导入）。你需要手动下载附件，然后将附件添加到这一条目上；当然，你也可以直接把下载好的附件拖到这一条目上，效果是一样的。
![[Pasted image 20231001224247.png]]
- 不同导出格式里的信息可能略有差异，而且可能都不完整甚至有错，你可以后续自己手动编辑右边栏中的 [信息/Info] 进行调整（以万方为例， RefWorks 格式导入的结果中 [分类/Type] 信息是分类号（TP311.52），而不是学位类型（硕士/博士）； EndNote 格式的结果中将导师姓名也写入了作者列表，而且将两个导师的姓名直接写成了第二作者的姓和名； Bibtex 格式的结果中没有摘要，而且分类写为了硕士论文）。
- 你也可以去百度学术这一类的受支持的通用检索网站抓取/导出引用信息。
- 有条件的话尽量还是直接从网页上抓取，毕竟这么导入有可能出现各种填写不规范的情况，也可能缺少一些信息。